{% load static %}

<html>
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>CCTV 관리자 사이트</title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons -->
    <link rel="icon" href="{% static 'resources/NiceAdmin/assets/img/prelogo.png' %}" type="image/x-icon">
    <link rel="shortcut icon" href="{% static 'resources/NiceAdmin/assets/img/prelogo.png' %}" type="image/x-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
          rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@800&display=swap" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gothic+A1:wght@300&display=swap" rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="{% static '/resources/NiceAdmin/assets/vendor/bootstrap/css/bootstrap.min.css'%}" rel="stylesheet"
          type="text/css"/>
    <link href="{% static '/resources/NiceAdmin/assets/vendor/bootstrap-icons/bootstrap-icons.css'%}" rel="stylesheet"
          type="text/css"/>
    <link href="{% static '/resources/NiceAdmin/assets/vendor/boxicons/css/boxicons.min.css'%}" rel="stylesheet"
          type="text/css"/>
    <link href="{% static '/resources/NiceAdmin/assets/vendor/quill/quill.snow.css'%}" rel="stylesheet"
          type="text/css"/>
    <link href="{% static '/resources/NiceAdmin/assets/vendor/quill/quill.bubble.css'%}" rel="stylesheet"
          type="text/css"/>
    <link href="{% static '/resources/NiceAdmin/assets/vendor/remixicon/remixicon.css'%}" rel="stylesheet"
          type="text/css"/>
    <link href="{% static '/resources/NiceAdmin/assets/vendor/simple-datatables/style.css'%}" rel="stylesheet"
          type="text/css"/>

    <!-- Template Main CSS File -->
    <link href="{% static '/resources/NiceAdmin/assets/css/style.css'%}" rel="stylesheet" type="text/css"/>

    <style>
        body {
          margin: 0;
          font-family: Arial, sans-serif;
        }

        .sidebar {
          position: fixed;
          top: 60px;
          left: -300px;
          bottom: 0;
          width: 300px;
          z-index: 996;
          transition: all 0.3s;
          padding: 20px;
          overflow-y: auto;
          scrollbar-width: thin;
          scrollbar-color: #aab7cf transparent;
          box-shadow: 0px 0px 20px rgba(1, 41, 112, 0.1);
          background-color: #fff;
        }

        .sidebar::-webkit-scrollbar {
          width: 5px;
          height: 8px;
          background-color: #fff;
        }

        .sidebar::-webkit-scrollbar-thumb {
          background-color: #aab7cf;
        }

        .content {
          padding :80 30 0 30px ;
          transition: padding-left 0.3s; /* 트랜지션을 추가하여 부드럽게 움직이도록 함 */
        }

        .sidebar.active {
          left: 0; /* active 클래스가 추가될 때 사이드바를 보이게 함 */
        }

        .content.active {
          padding-left: 330px; /* active 클래스가 추가될 때 왼쪽 여백을 설정하여 사이드바가 나타날 때 메인 콘텐츠가 밀리도록 함 */
        }

        .video-container {
            position: relative;
            overflow: hidden;
            padding-bottom: 56.25%; /* 16:9 비율을 유지하기 위한 값. 비율을 변경하려면 조절하세요. */
            margin-bottom : 15px;
            max-width: 100%; /* 부모인 card-body의 너비에 맞추기 */
        }

        video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

         .icon-container {
            margin: 0;
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* 2개의 동일한 너비의 열을 생성합니다. */
            display: flex;
                justify-content: space-between;

        }

        .icon-card {
          width: 100%; /* 부모 컨테이너(열)의 100%를 차지하도록 정사각형의 너비를 설정합니다. */
          height:100%;
          background-color: #fff; /* 배경색을 원하는 색상으로 설정합니다. */
          flex: 1;
          margin:0 10px;
          border: none;
          border-radius: 10px;
          box-shadow: 0px 0 30px rgba(1, 41, 112, 0.1);
          height:25vh;
        }

            .icon-button {
              position: relative;
              display: inline-block;
              background-color: #fff; /* 버튼의 배경색 */
              color: #4154f1; /* 버튼 텍스트 색상 */
              text-align: center;
              text-decoration: none;
              font-size: 70px; /* 버튼 텍스트 크기 */
              border-radius: 10px; /* 버튼 모서리 둥글게 만들기 */
              transition: background-color 0.3s;
              width: 100%;
              height: 100%;
              border: none;
            }

            .icon-button:hover {
              background-color: #4154f1; /* 버튼에 호버 효과 시 배경색 변경 */
              color: #fff;
            }


    </style>


</head>
<body>

{% include 'header.html' %}

{% include 'sidebar.html' %}

<div class="content">
    <section class="section">
        <div class="row">

            <!-- 네 번째 이미지 섹션 -->
            <div class="content">
                <section class="section">
                    <div class="row">

                        <!-- 네 번째 이미지 섹션 -->
                        <div class="col-lg-6">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="card-title">CCTV</h5>
                                    <img src="http://127.0.0.1:8000/detectme/" class="img-fluid" data-bs-toggle="modal"
                                         data-bs-target="#imageModal">
                                </div>
                                <!-- 아래 부분 주석 처리 (비활성화) -->
                                <!--
                                <div class="d-flex justify-content-between align-items-center alert alert-secondary alert-dismissible fade show"
                                     role="alert">
                                    <span>4번 카메라</span>
                                    <div class="d-flex align-items-center">
                                        <button class="button-class" type="button" data-bs-toggle="modal"
                                                data-bs-target="#imageModal">
                                            <img src="{% static 'resources/NiceAdmin/assets/img/menu.png' %}" alt="Menu" width="20"
                                                 height="20">
                                        </button>
                                    </div>
                                </div>
                                -->
                            </div>
                        </div>

            <div class="col-lg-5">
                <div class="card">
                    <div class="card-body">
                        <section class="section">
                        <h5 class="card-title">공지사항</h5>

                        <!-- Accordion without outline borders -->
                        <div class="accordion accordion-flush" id="accordionFlushExample">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="flush-headingOne">
                                    <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse"
                                            data-bs-target="#flush-collapseOne" aria-expanded="false"
                                            aria-controls="flush-collapseOne">
                                        공지사항 1
                                    </button>
                                </h2>
                                <div id="flush-collapseOne" class="accordion-collapse collapse"
                                     aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">내용
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="flush-headingTwo">
                                    <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse"
                                            data-bs-target="#flush-collapseTwo" aria-expanded="false"
                                            aria-controls="flush-collapseTwo">
                                        공지사항 2
                                    </button>
                                </h2>
                                <div id="flush-collapseTwo" class="accordion-collapse collapse"
                                     aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">내용
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="flush-headingThree">
                                    <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse"
                                            data-bs-target="#flush-collapseThree" aria-expanded="false"
                                            aria-controls="flush-collapseThree">
                                        공지사항 3
                                    </button>
                                </h2>
                                <div id="flush-collapseThree" class="accordion-collapse collapse"
                                     aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">내용
                                    </div>
                                </div>
                            </div>
                        </div>
                        </section>
                        </div><!-- End Accordion without outline borders -->

                    </div>

                <div class="icon-container">
                    <div class="icon-card">

                            <button id="emergencyButton" class="icon-button">
                                <span style="font-size:14px;">긴급 화재 신고</span>
                                <br>
                                <i class="ri-fire-line"></i>
                            </button>

                    </div>

                     <script>
                        // 버튼 클릭 시 이벤트 핸들러
                        document.getElementById('emergencyButton').onclick = function () {
                            var phoneNumber = '119'; // 긴급 신고 전화번호

                            if (confirm('긴급 화재 신고 전화번호 ' + phoneNumber + '로 전화를 거시겠습니까?')) {
                                window.open('tel:' + phoneNumber); // 전화번호로 전화 걸기
                            }
                        };
                    </script>

                    <div class="icon-card">
                            <button id="reportButton" class="icon-button">
                                <span style="font-size:14px;">이상 행동 신고</span>
                                <br>
                                <i class="bx bxs-phone-call" style="margin:17 0px;"></i>
                            </button>

                    </div>

                    <script>
                        // 버튼 클릭 시 이벤트 핸들러
                        document.getElementById('reportButton').onclick = function () {
                            var phoneNumber = '112'; // 이상 행동 신고 전화번호

                            if (confirm('이상 행동 신고 전화번호 ' + phoneNumber + '로 전화를 거시겠습니까?')) {
                                window.open('tel:' + phoneNumber); // 전화번호로 전화 걸기
                            } else {
                                // 확인 창에서 취소를 눌렀을 때 실행할 코드
                                console.log('전화 거부됨');
                            }
                        };
                    </script>

                </div>

            </div>

            <div class="col-lg-6" style="margin-top: 40px;">
                <div class="card">
                    <div class="card-body" style="height: 350px; margin-top: 20px;">
                        <div class="d-sm-flex justify-content-between align-items-start">
                            <div>
                                <h4 class="card-title card-title-dash">Performance Line Chart</h4>
                            </div>
                            <div id="performance-line-legend"></div>
                        </div>
                        <div class="chartjs-wrapper mt-5" style="height:70%; margin-bottom:20px;">
                            <canvas id="performaneLine"></canvas>
                        </div>

                        <script>
                            document.addEventListener("DOMContentLoaded", () => {
                              const series = {
                                "monthDataSeries1": {
                                  "prices": [
                                    20,11,2,3,0,1,0,5,7,1,2,8,20,25,70,55,93,124,88,75,80,87,95,79
                                  ],
                                  "dates": [
                                    "00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00",
                                    "14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"
                                  ]
                                },
                                "monthDataSeries2": {
                                  "prices": [
                                    20,11,2,3,0,1,0,5,7,1,2,8,20,25,70,55,93,124,88,75,80,87,95,79,164,158,63,67,10,35,67,24,33,58,85,72,69,45,66,77,50,49,56,89,102,84,55,36
                                  ],
                                  "dates": [
                                    "00:00","00:30","01:00","01:30","02:00","02:30","03:00","03:30","04:00","04:30","05:00","05:30","06:00","06:30","07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00",
                                    "13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00","23:30"
                                  ]
                                },
                                "monthDataSeries3": {
                                  "prices": [
                                    20,11,2,3,0,1,0,5,7,1,2,8,20,25,70,55,93,124,88,75,80,87,95,79,164,158,63,67,10,35,67,24,33,58,85,72,69,45,66,77,50,49,56,89,102,84,55,36
                                  ],
                                  "dates": [
                                    "00:00","00:30","01:00","01:30","02:00","02:30","03:00","03:30","04:00","04:30","05:00","05:30","06:00","06:30","07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00",
                                    "13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00","23:30"
                                  ]
                                }
                              }
                              new ApexCharts(document.querySelector("#areaChart"), {
                                series: [{
                                  name: "고객 수",
                                  data: series.monthDataSeries1.prices
                                }],
                                chart: {
                                  type: 'area',
                                  height: 350,
                                  zoom: {
                                    enabled: false
                                  }
                                },
                                dataLabels: {
                                  enabled: false
                                },
                                stroke: {
                                  curve: 'straight'
                                },
                                subtitle: {
                                  text: '방문 고객 현황',
                                  align: 'left'
                                },
                                labels: series.monthDataSeries1.dates,
                                xaxis: {
                                  type: 'time',
                                },
                                yaxis: {
                                  opposite: true
                                },
                                legend: {
                                  horizontalAlign: 'left'
                                }
                              }).render();
                            });
                        </script>
                        <!-- End Area Chart -->

                    </div>
                </div>
            </div>

            <div class="col-lg-6" style="margin-top: 40px;">
                <div class="card">
                    <div class="card-body" style="height: 350px;">
                        <h5 class="card-title">Column Chart</h5>

                        <!-- Column Chart -->
                        <div id="columnChart"></div>


                        <script>
                            document.addEventListener("DOMContentLoaded", () => {
                              new ApexCharts(document.querySelector("#columnChart"), {
                                series: [{
                                  name: 'Net Profit',
                                  data: [44, 55, 57, 56, 61, 58, 63, 60, 66]
                                }, {
                                  name: 'Revenue',
                                  data: [76, 85, 101, 98, 87, 105, 91, 114, 94]
                                }, {
                                  name: 'Free Cash Flow',
                                  data: [35, 41, 36, 26, 45, 48, 52, 53, 41]
                                }],
                                chart: {
                                  type: 'bar',
                                  height: 250
                                },
                                plotOptions: {
                                  bar: {
                                    horizontal: false,
                                    columnWidth: '55%',
                                    endingShape: 'rounded'
                                  },
                                },
                                dataLabels: {
                                  enabled: false
                                },
                                stroke: {
                                  show: true,
                                  width: 2,
                                  colors: ['transparent']
                                },
                                xaxis: {
                                  categories: ['Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'],
                                },
                                yaxis: {
                                  title: {
                                    text: '$ (thousands)'
                                  }
                                },
                                fill: {
                                  opacity: 1
                                },
                                tooltip: {
                                  y: {
                                    formatter: function(val) {
                                      return "$ " + val + " thousands"
                                    }
                                  }
                                }
                              }).render();
                            });
                        </script>
                        <!-- End Column Chart -->

                    </div>


                </div>
            </div>
        </div>

</div>
</section>

</div>


<!-- 부트스트랩 JS 및 Popper.js 추가 -->

<script src="{% static '/resources/NiceAdmin/assets/vendor/apexcharts/apexcharts.min.js' %}"></script>
<script src="{% static '/resources/NiceAdmin/assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static '/resources/NiceAdmin/assets/vendor/chart.js/chart.umd.js' %}"></script>
<script src="{% static '/resources/NiceAdmin/assets/vendor/echarts/echarts.min.js' %}"></script>
<script src="{% static '/resources/NiceAdmin/assets/vendor/quill/quill.min.js' %}"></script>
<script src="{% static '/resources/NiceAdmin/assets/vendor/simple-datatables/simple-datatables.js' %}"></script>
<script src="{% static '/resources/NiceAdmin/assets/vendor/tinymce/tinymce.min.js' %}"></script>
<script src="{% static '/resources/NiceAdmin/assets/vendor/php-email-form/validate.js' %}"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

<!-- Template Main JS File -->
<script src="{% static '/resources/NiceAdmin/assets/js/main.js' %}"></script>

<script>



    const videoPlayer = document.getElementById('myVideo');
    const videoSources = [
      '{% static 'video/화재１.mp4' %}',
      '{% static 'video/화재２.mp4' %}',
      '{% static 'video/화재３.mp4' %}',  // 다음 동영상의 경로를 추가
      // 다른 동영상들의 경로도 필요에 따라 추가
    ];
    let currentVideoIndex = 0;

    function playNextVideo() {
      console.log('playNextVideo clicked');  // 디버그용 로그 메시지
      // Increment the current video index
      currentVideoIndex = (currentVideoIndex + 1) % videoSources.length;

      // Change the video source and play
      videoPlayer.src = videoSources[currentVideoIndex];
      videoPlayer.play();
    }

 (function($) {
      'use strict';
      $(function() {
        if ($("#performaneLine").length) {
          var graphGradient = document.getElementById("performaneLine").getContext('2d');
          var graphGradient2 = document.getElementById("performaneLine").getContext('2d');
          var saleGradientBg = graphGradient.createLinearGradient(5, 0, 5, 100);
          saleGradientBg.addColorStop(0, 'rgba(26, 115, 232, 0.18)');
          saleGradientBg.addColorStop(1, 'rgba(26, 115, 232, 0.02)');
          var saleGradientBg2 = graphGradient2.createLinearGradient(100, 0, 50, 150);
          saleGradientBg2.addColorStop(0, 'rgba(0, 208, 255, 0.19)');
          saleGradientBg2.addColorStop(1, 'rgba(0, 208, 255, 0.03)');
          var salesTopData = {
              labels: ["SUN", "MON", "TUE", "WED", "THU", "FRI", "SAT"],
              datasets: [{
                  label: 'This week',
                  data: [100, 10, 100, 100, 100, 100, 100],
                  backgroundColor: saleGradientBg,
                  borderColor: [
                      '#1F3BB3',
                  ],
                  borderWidth: 1.5,
                  fill: true, // 3: no fill
                  pointBorderWidth: 1,
                  pointRadius: [4, 4, 4, 4, 4, 4, 4],
                  pointHoverRadius: [2, 2, 2, 2, 2, 2, 2],
                  pointBackgroundColor: ['#1F3BB3)', '#1F3BB3', '#1F3BB3', '#1F3BB3','#1F3BB3)', '#1F3BB3', '#1F3BB3'],
                  pointBorderColor: ['#fff','#fff','#fff','#fff','#fff','#fff','#fff'],
              },{
                label: 'Last week',
                data: [30, 150, 190, 250, 120, 150, 130],
                backgroundColor: saleGradientBg2,
                borderColor: [
                    '#52CDFF',
                ],
                borderWidth: 1.5,
                fill: true, // 3: no fill
                pointBorderWidth: 1,
                pointRadius: [4, 4, 4, 4, 4, 4, 4],
                pointHoverRadius: [2, 2, 2, 2, 2, 2, 2],
                pointBackgroundColor: ['#1F3BB3)', '#1F3BB3', '#1F3BB3', '#1F3BB3','#1F3BB3)', '#1F3BB3', '#1F3BB3'],
                pointBorderColor: ['#fff','#fff','#fff','#fff','#fff','#fff','#fff'],
            }]
          };

          var salesTopOptions = {
            responsive: true,
            maintainAspectRatio: false,
              scales: {
                  yAxes: [{
                      gridLines: {
                          display: true,
                          drawBorder: false,
                          color:"#F0F0F0",
                          zeroLineColor: '#F0F0F0',
                      },
                      ticks: {
                        beginAtZero: false,
                        autoSkip: true,
                        maxTicksLimit: 4,
                        fontSize: 10,
                        color:"#6B778C"
                      }
                  }],
                  xAxes: [{
                    gridLines: {
                        display: false,
                        drawBorder: false,
                    },
                    ticks: {
                      beginAtZero: false,
                      autoSkip: true,
                      maxTicksLimit: 7,
                      fontSize: 10,
                      color:"#6B778C"
                    }
                }],
              },
              legend:false,
              legendCallback: function (chart) {
                var text = [];
                text.push('<div class="chartjs-legend"><ul>');
                for (var i = 0; i < chart.data.datasets.length; i++) {
                  console.log(chart.data.datasets[i]); // see what's inside the obj.
                  text.push('<li>');
                  text.push('<span style="background-color:' + chart.data.datasets[i].borderColor + '">' + '</span>');
                  text.push(chart.data.datasets[i].label);
                  text.push('</li>');
                }
                text.push('</ul></div>');
                return text.join("");
              },

              elements: {
                  line: {
                      tension: 0.4,
                  }
              },
              tooltips: {
                  backgroundColor: 'rgba(31, 59, 179, 1)',
              }
          }
          var salesTop = new Chart(graphGradient, {
              type: 'line',
              data: salesTopData,
              options: salesTopOptions
          });
          document.getElementById('performance-line-legend').innerHTML = salesTop.generateLegend();
        }
        if ($("#performaneLine-dark").length) {
          var graphGradient = document.getElementById("performaneLine-dark").getContext('2d');
          var graphGradient2 = document.getElementById("performaneLine-dark").getContext('2d');
          var saleGradientBg = graphGradient.createLinearGradient(5, 0, 5, 100);
          saleGradientBg.addColorStop(0, 'rgba(26, 115, 232, 0.18)');
          saleGradientBg.addColorStop(1, 'rgba(34, 36, 55, 0.5)');
          var saleGradientBg2 = graphGradient2.createLinearGradient(10, 0, 0, 150);
          saleGradientBg2.addColorStop(0, 'rgba(0, 208, 255, 0.19)');
          saleGradientBg2.addColorStop(1, 'rgba(34, 36, 55, 0.2)');
          var salesTopDataDark = {
              labels: ["SUN", "MON", "TUE", "WED", "THU", "FRI", "SAT"],
              datasets: [{
                  label: '# of Votes',
                  data: [50, 110, 60, 290, 200, 115, 130],
                  backgroundColor: saleGradientBg,
                  borderColor: [
                      '#1F3BB3',
                  ],
                  borderWidth: 1.5,
                  fill: true, // 3: no fill
                  pointBorderWidth: 1,
                  pointRadius: [4, 4, 4, 4, 4,4, 4],
                  pointHoverRadius: [2, 2, 2, 2, 2,2, 2],
                  pointBackgroundColor: ['#1F3BB3)', '#1F3BB3', '#1F3BB3', '#1F3BB3','#1F3BB3)', '#1F3BB3', '#1F3BB3'],
                  pointBorderColor: ['#222437','#222437','#222437','#222437','#222437','#222437','#222437'],
              },{
                label: '# of Votes',
                data: [30, 150, 190, 250, 120, 150, 130],
                backgroundColor: saleGradientBg2,
                borderColor: [
                    '#52CDFF',
                ],
                borderWidth: 1.5,
                fill: true, // 3: no fill
                pointBorderWidth: 1,
                pointRadius: [4, 4, 4, 4, 4,4, 4],
                pointHoverRadius: [2, 2, 2, 2, 2,2, 2],
                pointBackgroundColor: ['#52CDFF)', '#52CDFF', '#52CDFF', '#52CDFF','#52CDFF)', '#52CDFF', '#52CDFF'],
                pointBorderColor: ['#222437','#222437','#222437','#222437','#222437','#222437','#222437'],
            }]
          };

          var salesTopOptionsDark = {
            responsive: true,
            maintainAspectRatio: false,
              scales: {
                  yAxes: [{
                      gridLines: {
                          display: true,
                          drawBorder: false,
                          color:"rgba(255,255,255,.05)",
                          zeroLineColor: "rgba(255,255,255,.05)",
                      },
                      ticks: {
                        beginAtZero: false,
                        autoSkip: true,
                        maxTicksLimit: 4,
                        fontSize: 10,
                        color:"#6B778C"
                      }
                  }],
                  xAxes: [{
                    gridLines: {
                        display: false,
                        drawBorder: false,
                    },
                    ticks: {
                      beginAtZero: false,
                      autoSkip: true,
                      maxTicksLimit: 7,
                      fontSize: 10,
                      color:"#6B778C"
                    }
                }],
              },
              legend:false,
              legendCallback: function (chart) {
                var text = [];
                text.push('<div class="chartjs-legend"><ul>');
                for (var i = 0; i < chart.data.datasets.length; i++) {
                  console.log(chart.data.datasets[i]); // see what's inside the obj.
                  text.push('<li>');
                  text.push('<span style="background-color:' + chart.data.datasets[i].borderColor + '">' + '</span>');
                  text.push(chart.data.datasets[i].label);
                  text.push('</li>');
                }
                text.push('</ul></div>');
                return text.join("");
              },

              elements: {
                  line: {
                      tension: 0.4,
                  }
              },
              tooltips: {
                  backgroundColor: 'rgba(31, 59, 179, 1)',
              }
          }
          var salesTopDark = new Chart(graphGradient, {
              type: 'line',
              data: salesTopDataDark,
              options: salesTopOptionsDark
          });
          document.getElementById('performance-line-legend-dark').innerHTML = salesTopDark.generateLegend();
        }
        if ($("#datepicker-popup").length) {
          $('#datepicker-popup').datepicker({
            enableOnReadonly: true,
            todayHighlight: true,
          });
          $("#datepicker-popup").datepicker("setDate", "0");
        }

      });
    })(jQuery);

</script>

</body>
</html>